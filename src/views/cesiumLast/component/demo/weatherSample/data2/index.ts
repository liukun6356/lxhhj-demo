import moment from "moment";
import geojson from "./kriging-clip-polygon.json"

//位置  湖北省荆州市公安县
const rings = geojson.geometry.coordinates[0][0].flat().map(Number)
const points = [
    [112.20204, 29.619995],
    [112.032008, 29.673496],
    [112.088685, 29.673496],
    [112.145363, 29.673496],
    [112.20204, 29.673496],
    [112.258718, 29.673496],
    [112.032008, 29.726997],
    [112.088685, 29.726997],
    [112.145363, 29.726997],
    [112.20204, 29.726997],
    [112.258718, 29.726997],
    [112.315395, 29.726997],
    [111.97533, 29.780498],
    [112.032008, 29.780498],
    [112.088685, 29.780498],
    [112.145363, 29.780498],
    [112.20204, 29.780498],
    [112.258718, 29.780498],
    [112.315395, 29.780498],
    [111.861975, 29.834],
    [111.918653, 29.834],
    [111.97533, 29.834],
    [112.032008, 29.834],
    [112.088685, 29.834],
    [112.145363, 29.834],
    [112.20204, 29.834],
    [112.258718, 29.834],
    [112.315395, 29.834],
    [112.372073, 29.834],
    [111.805298, 29.887501],
    [111.861975, 29.887501],
    [111.918653, 29.887501],
    [111.97533, 29.887501],
    [112.032008, 29.887501],
    [112.088685, 29.887501],
    [112.145363, 29.887501],
    [112.20204, 29.887501],
    [112.258718, 29.887501],
    [112.315395, 29.887501],
    [112.372073, 29.887501],
    [112.42875, 29.887501],
    [111.861975, 29.941002],
    [111.918653, 29.941002],
    [111.97533, 29.941002],
    [112.032008, 29.941002],
    [112.088685, 29.941002],
    [112.145363, 29.941002],
    [112.20204, 29.941002],
    [112.258718, 29.941002],
    [112.315395, 29.941002],
    [112.372073, 29.941002],
    [112.42875, 29.941002],
    [111.861975, 29.994503],
    [111.918653, 29.994503],
    [111.97533, 29.994503],
    [112.032008, 29.994503],
    [112.088685, 29.994503],
    [112.145363, 29.994503],
    [112.20204, 29.994503],
    [112.258718, 29.994503],
    [112.315395, 29.994503],
    [112.372073, 29.994503],
    [112.42875, 29.994503],
    [111.918653, 30.048004],
    [111.97533, 30.048004],
    [112.032008, 30.048004],
    [112.088685, 30.048004],
    [112.145363, 30.048004],
    [112.20204, 30.048004],
    [112.258718, 30.048004],
    [112.315395, 30.048004],
    [112.372073, 30.048004],
    [112.42875, 30.048004],
    [111.918653, 30.101505],
    [111.97533, 30.101505],
    [112.032008, 30.101505],
    [112.088685, 30.101505],
    [112.145363, 30.101505],
    [112.20204, 30.101505],
    [111.918653, 30.155007],
    [111.97533, 30.155007],
    [112.032008, 30.155007],
    [112.088685, 30.155007],
    [112.145363, 30.155007],
    [112.20204, 30.155007],
    [111.97533, 30.208508],
    [112.032008, 30.208508],
    [112.088685, 30.208508],
    [112.145363, 30.208508],
    [112.20204, 30.208508],
    [112.258718, 30.208508],
    [112.145363, 30.262009],
    [112.20204, 30.262009],
    [112.258718, 30.262009],
    [112.145363, 30.31551],
    [112.20204, 30.31551],
    [112.258718, 30.31551]
];

const startTime = moment("2020-01-01 08:00:00").valueOf();
const endTime = moment("2020-01-04 08:00:00").valueOf();
const interval = 3600 * 1000;
const frames = (endTime - startTime) / interval;

const data = new Array(frames).fill('').map((i, timeIndex) => {
    return {
        time: timeIndex * interval + startTime,
        value: new Array(points.length).fill(0).map(() => Math.random() * 15),
    };
});

const colorMap = {
    type: "class-break",
    breaks: [
        {min: 1,  max: 2,  color: "#71d79d"},
        {min: 2,  max: 3,  color: "#66bd63"},
        {min: 3,  max: 4,  color: "#a6d96a"},
        {min: 4,  max: 5,  color: "#d9ef8b"},
        {min: 5,  max: 6,  color: "#ffffbf"},
        {min: 6,  max: 7,  color: "#fee08b"},
        {min: 7,  max: 8,  color: "#fdaf61"},
        {min: 8,  max: 9,  color: "#f46d43"},
        {min: 9,  max: 10, color: "#d73027"},
        {min: 10, max: 15, color: "#a50026"}
    ],
};


export const krigingDataMeta = {
    startTime,
    endTime,
    points,
    data,
    colorMap,
    interval,
    rings
};
